# Cloud-Neutral 资讯雷达｜基础设施与平台 · Kubernetes（控制平面）

## 概述

在 Cloud-Neutral Tool Map 中，集群调度与编排（Cluster Orchestration）这一层，最终收敛为一个事实中心——Kubernetes。在它之前，Mesos / Marathon、Docker Swarm、Nomad、Cloud Foundry Diego 等方案都曾在各自时代解决过真实问题，但最终都未能成为通用的分布式系统控制平面。Kubernetes 通过声明式 API、控制回路与高度可扩展的对象模型，完成了这一收敛。

K3s 的出现，并非挑战 Kubernetes，而是一次清醒的工程化回答：在资源、运维与团队能力受限的现实条件下，如何让 Kubernetes 真正可用、可维护、可落地。

## 项目主要特性

- **Kubernetes（K8s）**
  - 声明式 API 与控制回路驱动
  - 标准化对象模型（Pod / Deployment / Service 等）
  - CRD / Controller 架构，具备高度扩展能力
  - 云厂商中立，生态成熟，跨环境一致

- **K3s**
  - 100% Kubernetes API 兼容
  - 单一二进制，Server + Agent 架构
  - 默认内置 containerd、flannel、本地存储
  - 面向边缘与中小规模集群优化

---

## 优势与局限

| 对比项 | Kubernetes（K8s） | K3s |
|------|------------------|-----|
| 成熟度 | 大规模生产验证，事实标准 | 依托 Kubernetes，上游兼容 |
| 运维复杂度 | 组件多、学习与维护成本高 | 部署简单，运维门槛显著降低 |
| 资源占用 | 对资源要求相对较高 | 面向低 CPU / 低内存场景 |
| 扩展能力 | CRD / Operator 生态极强 | 扩展能力受默认设计约束 |
| 规模适配 | 适合中大型及超大规模集群 | 不适合千节点级超大规模 |
| 工程取向 | 通用、抽象、平台化 | 意见化、工程化、现实导向 |

---

## 适用场景对比

| 场景维度 | Kubernetes（K8s） | K3s |
|---------|------------------|-----|
| 集群规模 | 中大型、长期演进 | 中小规模、快速落地 |
| 使用环境 | 云厂商 / 私有云 / 混合云 | 边缘计算 / IoT / 私有化 |
| 团队能力 | 具备平台与运维团队 | 运维能力有限的团队 |
| 交付目标 | 构建可持续演进的平台 | 快速可用、稳定运行 |
| 使用心智 | 平台内核视角 | 工程工具视角 |

---

## 工程判断

**如何在受控环境中，把一个镜像，可靠地变成一组正在运行的进程**：这个问题贯穿了整个云原生基础设施体系，其答案并不在某一个工具中，而体现在清晰、克制的运行时分层设计里。

在典型云原生架构中，运行时层级关系如下：

```
物理机
└── KVM / Hypervisor
    └── VM
        └── 操作系统（Linux）
            └── Kubernetes（控制平面）
              └── Container Engine
                └── Container / Pod
                    └── Application Process
```

这不是技术堆叠的偶然结果，而是工程责任逐层收敛的必然形态。在 **Cloud-Neutral** 体系中，各层职责边界同样明确：

- **KVM / QEMU**：提供算力抽象与安全隔离边界，解决“计算是否可信、是否隔离”
- **容器引擎**：负责进程的启动、隔离与生命周期管理
- **Kubernetes**：负责编排、调度与集群级状态收敛
- **PaaS / 平台能力**：关注工程效率，而非运行时本身

一个常见工程误区，是试图用上层能力替代下层责任： 例如，用 Kubernetes 弥补虚拟化隔离不足，或让容器引擎承担集群调度职能。这类设计在规模扩大或约束增强时，往往会暴露结构性问题。

**稳定、可演进的体系，必须坚持分层清晰、职责克制。**


## 项目地址

- Kubernetes：<https://github.com/kubernetes/kubernetes>  
- K3s：<https://github.com/k3s-io/k3s>

---

> **如果说 Kubernetes 是“分布式系统的平台内核”， 那么 K3s，就是这个内核在现实世界中的单体工程落地形态。

** 更多工程判断，见「**云原生工坊 · 工程技术雷达**」。
